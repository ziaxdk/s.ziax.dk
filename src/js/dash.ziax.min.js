!function(){var a=angular.module("ziaxdash",["ngRoute","ngResource"]);a.config(["$routeProvider",function(a){a.when("/",{templateUrl:"_index.html",controller:"IndexController",controllerAs:"IndexCtrl"}),a.when("/new",{templateUrl:"_new.html"}),a.when("/show/:id",{templateUrl:"_show.html",resolve:{Drive:["$route","RestQ",function(a,b){return b.save({id:a.current.params.id})}]},controller:"ShowController",controllerAs:"ShowCtrl"}),a.when("/res/:q",{templateUrl:"_result.html",resolve:{Drives:["$route","RestQ",function(a,b){return b.get({q:a.current.params.q})}]},controller:"ResultController",controllerAs:"ResultCtrl"}),a.otherwise({redirectTo:"/"})}]),a.factory("RestDrive",["$resource",function(a){return a("drive",{},{query:{method:"GET",isArray:!1}})}]),a.factory("RestQ",["$resource",function(a){return a("q")}]),a.factory("RestClick",["$resource",function(a){return a("click/:id",{id:"@id"})}]),a.controller("MainController",["$rootScope","$location","RestDrive",function(a,b,c){var d=this;d.hits="na",d.form={},d.search=function(){d.form.q&&b.path("/res/"+encodeURIComponent(d.form.q))},d.new=function(){b.path("/new")},c.query(null,function(a){d.hits=a.hits.total}),a.$on("$routeChangeStart",function(){}),a.$on("$routeChangeSuccess",function(){}),a.$on("$routeChangeError",function(){})}]),a.controller("IndexController",["$location","RestQ",function(){}]),a.controller("NewController",["$scope","$http","RestDrive",function(a,b,c){var d=this;d.form={},d.submit=function(){if(!a.theForm.$invalid){var b={header:d.form.header,content:d.form.content,tags:d.form.tags?d.form.tags.split(" "):[],createdutc:moment.utc().format(),code:d.form.code};c.save(b)}}}]),a.controller("ShowController",["Drive","$http",function(a,b){this.Drive=a,b.put("/q",{id:a.id})}]),a.controller("ResultController",["Drives","$http","$location",function(a,b,c){var d=this;d.result=a,d.show=function(a){c.path("/show/"+encodeURIComponent(a))}}]),a.filter("textile",["$sce",function(a){return function(b){return b?a.trustAsHtml(textile.parse(b)):""}}])}();