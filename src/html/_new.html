<div class="col-md-12" ng-controller="NewController as NewCtrl">

  <form role="form" ng-submit="NewCtrl.submit()" novalidate name="theForm">
    <div validation-summary></div>
    <div class="form-group" ng-class="{'has-error': theForm.header.$invalid }">
      <label for="idHeader">Header</label>
      <input type="text" name="header" class="form-control" id="idHeader" placeholder="Enter header..." ng-model="NewCtrl.form.header" ng-change="NewCtrl.findType(this)" required>
    </div>
    <div class="form-group" ng-class="{'has-error': theForm.description.$invalid }">
      <label for="idContent">Content</label>
      <textarea name="description" class="form-control" id="idContent" placeholder="Enter content..." style="min-height: 200px" ng-model="NewCtrl.form.content" required></textarea>
    </div>
    <div class="form-group">
      <label for="idTags">Tags</label>
      <input type="text" name="tags" class="form-control" id="idTags" placeholder="Enter tags..." ng-model="NewCtrl.form.tags">
    </div>
    <div class="checkbox pull-right" ng-show="MainCtrl.me.isAuth">
      <label>
        <input type="checkbox" name="authOnly" ng-model="NewCtrl.form.onlyAuth"> Auth only?
      </label>
    </div>
    <div class="form-group">
      <button type="submit" class="btn btn-primary" ng-disabled="theForm.$invalid||!MainCtrl.me.isAuth">Save <span class="glyphicon glyphicon-plus"></span></button>
    </div>
    <div class="panel panel-danger zddanger" ng-show="theForm.$valid&&!MainCtrl.me.isAuth" style="position: absolute">
      <div class="panel-heading">
        <h3 class="panel-title">Message for you, sir!</h3>
      </div>
      <div class="panel-body">You should authorize yourself</div>
    </div>
    <p>Preview:</p>
    <div class="panel panel-default">
      <div class="panel-body" style="min-height: 200px" ng-bind-html="NewCtrl.form.content|textile"></div>
    </div>
  </form>
</div>