<div class="col-md-12">

  <div class="alert alert-danger" ng-if="!MainCtrl.me.isAuth"><strong>Ohh!</strong> Cannot add new when unauthorized, sooo ....</div>

  <div ng-if="MainCtrl.me.isAuth">
    <form role="form" ng-submit="submit()" novalidate name="formInput">

      <div z-input-new ng-model="form.input" context="meta.type"></div>
      <pre>{{form}}
{{meta}}</pre>

      <div ng-show="meta.type">

        <div ng-if="template" ng-include="template"></div>

        <div class="form-group">
          <label for="idTags">Tags</label>
          <input type="text" name="tags" class="form-control" id="idTags" ng-model="form.tags">
          <!-- <div z-select2="NewCtrl.tags.data.facets.tags.terms" ng-model="NewCtrl.form.tags"></div> -->
          </select>
        </div>

        <div class="checkbox pull-right">
          <label>
            <input type="checkbox" name="authOnly" ng-model="form.onlyAuth"> Auth only?
          </label>
        </div>

        <div class="form-group">
          <label for="idType">Type</label>
          <span class="badge">{{meta.type}}</span>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <button type="submit" class="btn btn-primary" ng-disabled="formInput.$invalid||!MainCtrl.me.isAuth">Save <span class="glyphicon glyphicon-plus"></span></button>
            </div>
          </div>
        </div>

      </form>

      <div ng-show="preview">
        <p>Preview:</p>
        <div class="panel panel-default">
          <div class="panel-body" style="min-height: 200px" ng-bind-html="form.content|textile"></div>
        </div>
      </div>

    </div>

  </div>  

</div>
